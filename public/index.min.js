for(var __awaiter=this&&this.__awaiter||function(r,a,y,i){return new(y=y||Promise)(function(t,e){function o(r){try{m(i.next(r))}catch(r){e(r)}}function n(r){try{m(i.throw(r))}catch(r){e(r)}}function m(r){var e;r.done?t(r.value):((e=r.value)instanceof y?e:new y(function(r){r(e)})).then(o,n)}m((i=i.apply(r,a||[])).next())})},__generator=this&&this.__generator||function(t,o){var n,m,a,y={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function e(e){return function(r){return function(e){if(n)throw new TypeError("Generator is already executing.");for(;y;)try{if(n=1,m&&(a=2&e[0]?m.return:e[0]?m.throw||((a=m.return)&&a.call(m),0):m.next)&&!(a=a.call(m,e[1])).done)return a;switch(m=0,a&&(e=[2&e[0],a.value]),e[0]){case 0:case 1:a=e;break;case 4:return y.label++,{value:e[1],done:!1};case 5:y.label++,m=e[1],e=[0];continue;case 7:e=y.ops.pop(),y.trys.pop();continue;default:if(!(a=0<(a=y.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){y=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){y.label=e[1];break}if(6===e[0]&&y.label<a[1]){y.label=a[1],a=e;break}if(a&&y.label<a[2]){y.label=a[2],y.ops.push(e);break}a[2]&&y.ops.pop(),y.trys.pop();continue}e=o.call(t,y)}catch(r){e=[6,r],m=0}finally{n=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,r])}}},product=void 0,product_id_hooks=["ProductSection","productHead","shopify-section"],product_class_hooks=["product-single","section.product_section","product-single__content"],_i=0,product_id_hooks_1=product_id_hooks;_i<product_id_hooks_1.length;_i++){var id=product_id_hooks_1[_i];if(product)break;document.getElementById(id)&&(product=document.getElementById(id))}for(var _a=0,product_class_hooks_1=product_class_hooks;_a<product_class_hooks_1.length;_a++){var myClass=product_class_hooks_1[_a];if(product)break;document.getElementsByClassName(myClass)&&(product=document.getElementsByClassName(myClass)[0])}var host="https://abacdcbf53a3.ngrok.io";function main(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(r){switch(r.label){case 0:return[4,getSettings()];case 1:return null!==(e=r.sent())&&product.appendChild(uiMain(e)),[2]}})})}function displayPrice(r){return{AED:{moneyFormat:"Dhs. "+r,moneyWithCurrencyFormat:"Dhs. "+r+" AED"},AFN:{moneyFormat:r+"Ø‹",moneyWithCurrencyFormat:r+"Ø‹"},ALL:{moneyFormat:"Lek "+r,moneyWithCurrencyFormat:"Lek "+r+" ALL"},AMD:{moneyFormat:r+" AMD",moneyWithCurrencyFormat:r+" AMD"},ANG:{moneyFormat:"Æ’;"+r,moneyWithCurrencyFormat:"Æ’;"+r+" ANG"},AOA:{moneyFormat:"Kz"+r,moneyWithCurrencyFormat:"Kz"+r+" AOA"},ARS:{moneyFormat:""+r,moneyWithCurrencyFormat:r+" ARS"},AUD:{moneyFormat:""+r,moneyWithCurrencyFormat:r+" AUD"},AWG:{moneyFormat:"Afl"+r,moneyWithCurrencyFormat:"Afl"+r+" AWG"},AZN:{moneyFormat:"m."+r,moneyWithCurrencyFormat:"m."+r+" AZN"},BAM:{moneyFormat:"KM $"+r,moneyWithCurrencyFormat:"KM $"+r+" BAM"},BBD:{moneyFormat:""+r,moneyWithCurrencyFormat:r+" BBD"},BDT:{moneyFormat:"Tk "+r,moneyWithCurrencyFormat:"Tk "+r+" BDT"},BGN:{moneyFormat:r+" Ð»Ð²",moneyWithCurrencyFormat:r+" Ð»Ð²"},BIF:{moneyFormat:"FBu. "+r,moneyWithCurrencyFormat:"FBu. "+r+" BIF"},BMD:{moneyFormat:"BD"+r,moneyWithCurrencyFormat:"BD"+r+" BMD"},BND:{moneyFormat:""+r,moneyWithCurrencyFormat:r+" BND"},BOB:{moneyFormat:"Bs"+r,moneyWithCurrencyFormat:"Bs"+r+" BOB"},BRL:{moneyFormat:"R$ "+r,moneyWithCurrencyFormat:"R$ "+r+" BRL"},BSD:{moneyFormat:"BS"+r,moneyWithCurrencyFormat:"BS"+r+" BSD"},BWP:{moneyFormat:"P"+r,moneyWithCurrencyFormat:"P"+r+" BWP"},BZD:{moneyFormat:"BZ"+r,moneyWithCurrencyFormat:"BZ"+r+" BZD"},CAD:{moneyFormat:""+r,moneyWithCurrencyFormat:""+r},CDF:{moneyFormat:"FC"+r,moneyWithCurrencyFormat:"FC"+r+" CDF"},CHF:{moneyFormat:"SFr. "+r,moneyWithCurrencyFormat:"SFr. "+r+" CHF"},CLP:{moneyFormat:""+r,moneyWithCurrencyFormat:r+" CLP"},CNY:{moneyFormat:"Â¥"+r,moneyWithCurrencyFormat:"Â¥"+r+" CNY"},COP:{moneyFormat:"$"+r,moneyWithCurrencyFormat:"$"+r+" COP"},CRC:{moneyFormat:"â‚¡ "+r,moneyWithCurrencyFormat:"â‚¡ "+r+" CRC"},CVE:{moneyFormat:r+"$",moneyWithCurrencyFormat:r+"$"},CZK:{moneyFormat:r+" KÄ",moneyWithCurrencyFormat:r+" KÄ"},DJF:{moneyFormat:r+" Fdj",moneyWithCurrencyFormat:r+" DJF"},DKK:{moneyFormat:r+" kr",moneyWithCurrencyFormat:r+" kr"},DOP:{moneyFormat:"RD$ "+r,moneyWithCurrencyFormat:"RD$ "+r+" DOP"},DZD:{moneyFormat:"DA "+r,moneyWithCurrencyFormat:"DA "+r+" DZD"},EGP:{moneyFormat:"LE "+r,moneyWithCurrencyFormat:"LE "+r+" EGP"},ETB:{moneyFormat:"Br"+r,moneyWithCurrencyFormat:"Br"+r+" ETB"},EUR:{moneyFormat:"â‚¬"+r,moneyWithCurrencyFormat:"â‚¬"+r+" EUR"},FJD:{moneyFormat:""+r,moneyWithCurrencyFormat:r+" FJD"},FKP:{moneyFormat:"£"+r,moneyWithCurrencyFormat:"£"+r+" FKP"},GBP:{moneyFormat:"£"+r,moneyWithCurrencyFormat:"£"+r+" GBP"},GEL:{moneyFormat:r+" GEL",moneyWithCurrencyFormat:r+" GEL"},GIP:{moneyFormat:"£"+r,moneyWithCurrencyFormat:"£"+r+" GIP"},GMD:{moneyFormat:"D "+r,moneyWithCurrencyFormat:"D "+r+" GMD"},GNF:{moneyFormat:"FG "+r,moneyWithCurrencyFormat:"FG "+r+" GNF"},GTQ:{moneyFormat:"Q"+r,moneyWithCurrencyFormat:"Q"+r+" GTQ"},GYD:{moneyFormat:"G"+r,moneyWithCurrencyFormat:"G"+r+" GYD"},HKD:{moneyFormat:""+r,moneyWithCurrencyFormat:r+" HKD"},HNL:{moneyFormat:"L "+r,moneyWithCurrencyFormat:"L "+r+" HNL"},HRK:{moneyFormat:r+" kn",moneyWithCurrencyFormat:r+" kn"},HTG:{moneyFormat:"G "+r,moneyWithCurrencyFormat:"G "+r+" HTG"},HUF:{moneyFormat:""+r,moneyWithCurrencyFormat:r+" HUF"},IDR:{moneyFormat:""+r,moneyWithCurrencyFormat:r+" IDR"},ILS:{moneyFormat:r+" NIS",moneyWithCurrencyFormat:r+" NIS"},INR:{moneyFormat:"Rs. "+r,moneyWithCurrencyFormat:"Rs. "+r+" INR"},ISK:{moneyFormat:r+" kr",moneyWithCurrencyFormat:r+" ISK"},JMD:{moneyFormat:""+r,moneyWithCurrencyFormat:r+" JMD"},JPY:{moneyFormat:"¥"+r,moneyWithCurrencyFormat:"¥"+r+" JPY"},KES:{moneyFormat:"KSh"+r,moneyWithCurrencyFormat:"KSh"+r+" KES"},KGS:{moneyFormat:"Ð»Ð²"+r,moneyWithCurrencyFormat:"Ð»Ð²"+r+" KGS"},KHR:{moneyFormat:"KHR"+r,moneyWithCurrencyFormat:"KHR"+r+" KHR"},KMF:{moneyFormat:r+" CF",moneyWithCurrencyFormat:r+" CF"},KRW:{moneyFormat:"â‚©"+r,moneyWithCurrencyFormat:"â‚©"+r+" KRW"},KYD:{moneyFormat:""+r,moneyWithCurrencyFormat:r+" KYD"},KZT:{moneyFormat:r+" KZT",moneyWithCurrencyFormat:r+" KZT"},LAK:{moneyFormat:"â‚­"+r,moneyWithCurrencyFormat:"â‚­"+r+" LAK"},LBP:{moneyFormat:"LÂ£"+r,moneyWithCurrencyFormat:"LÂ£"+r+" LBP"},LKR:{moneyFormat:"Rs "+r,moneyWithCurrencyFormat:"Rs "+r+" LKR"},LRD:{moneyFormat:"L"+r,moneyWithCurrencyFormat:"L"+r+" LRD"},LSL:{moneyFormat:"M"+r,moneyWithCurrencyFormat:"M"+r+" LSL"},MAD:{moneyFormat:r+" dh",moneyWithCurrencyFormat:r+" dh"},MDL:{moneyFormat:r+" MDL",moneyWithCurrencyFormat:r+" MDL"},MKD:{moneyFormat:"Ð´ÐµÐ½ "+r,moneyWithCurrencyFormat:"Ð´ÐµÐ½ "+r+" MKD"},MMK:{moneyFormat:"K"+r,moneyWithCurrencyFormat:"K"+r+" MMK"},MNT:{moneyFormat:r+" â‚®",moneyWithCurrencyFormat:r+" â‚®"},MOP:{moneyFormat:"MOP"+r,moneyWithCurrencyFormat:"MOP"+r+" MOP"},MUR:{moneyFormat:"Rs "+r,moneyWithCurrencyFormat:"Rs "+r+" MUR"},MVR:{moneyFormat:"Rf"+r,moneyWithCurrencyFormat:"Rf"+r+" MVR"},MWK:{moneyFormat:"Mk"+r,moneyWithCurrencyFormat:"Mk"+r+" MWK"},MXN:{moneyFormat:"$ "+r,moneyWithCurrencyFormat:"$ "+r+" MXN"},MYR:{moneyFormat:"RM"+r+" MYR",moneyWithCurrencyFormat:"RM"+r+" MYR"},MZN:{moneyFormat:r+" Mt",moneyWithCurrencyFormat:r+" Mt"},NAD:{moneyFormat:"N"+r,moneyWithCurrencyFormat:"N"+r+" NAD"},NGN:{moneyFormat:"â‚¦"+r,moneyWithCurrencyFormat:"â‚¦"+r+" NGN"},NIO:{moneyFormat:"C"+r,moneyWithCurrencyFormat:"C"+r+" NIO"},NOK:{moneyFormat:r+" kr",moneyWithCurrencyFormat:r+" kr"},NPR:{moneyFormat:"Rs"+r,moneyWithCurrencyFormat:"Rs"+r+" NPR"},NZD:{moneyFormat:""+r,moneyWithCurrencyFormat:r+" NZD"},PAB:{moneyFormat:"B/. "+r,moneyWithCurrencyFormat:"B/. "+r+" PAB"},PEN:{moneyFormat:"S/. "+r,moneyWithCurrencyFormat:"S/. "+r+" PEN"},PGK:{moneyFormat:"K "+r,moneyWithCurrencyFormat:"K "+r+" PGK"},PHP:{moneyFormat:"â‚±"+r,moneyWithCurrencyFormat:"â‚±"+r+" PHP"},PKR:{moneyFormat:"Rs."+r,moneyWithCurrencyFormat:"Rs."+r+" PKR"},PLN:{moneyFormat:r+" zl",moneyWithCurrencyFormat:r+" zl"},PYG:{moneyFormat:"Gs. "+r,moneyWithCurrencyFormat:"Gs. "+r+" PYG"},QAR:{moneyFormat:"QAR "+r,moneyWithCurrencyFormat:"QAR "+r+" QAR"},RON:{moneyFormat:r+" lei",moneyWithCurrencyFormat:r+" lei"},RSD:{moneyFormat:r+" RSD",moneyWithCurrencyFormat:r+" RSD"},RUB:{moneyFormat:"Ñ€ÑƒÐ±"+r,moneyWithCurrencyFormat:"Ñ€ÑƒÐ±"+r+" RUB"},RWF:{moneyFormat:r+" RF",moneyWithCurrencyFormat:r+" RWF"},SAR:{moneyFormat:r+" SR",moneyWithCurrencyFormat:r+" SR"},SBD:{moneyFormat:""+r,moneyWithCurrencyFormat:r+" SBD"},SCR:{moneyFormat:"Rs "+r,moneyWithCurrencyFormat:"Rs "+r+" SCR"},SEK:{moneyFormat:r+" kr",moneyWithCurrencyFormat:r+" kr"},SGD:{moneyFormat:""+r,moneyWithCurrencyFormat:r+" SGD"},SHP:{moneyFormat:"Â£"+r,moneyWithCurrencyFormat:"Â£"+r+" SHP"},SLL:{moneyFormat:"Le "+r,moneyWithCurrencyFormat:"Le "+r+" SLL"},SRD:{moneyFormat:"SRD "+r,moneyWithCurrencyFormat:"SRD "+r+" SRD"},STD:{moneyFormat:"Db "+r,moneyWithCurrencyFormat:"Db "+r+" STD"},SZL:{moneyFormat:"L "+r,moneyWithCurrencyFormat:"L "+r+" SZL"},THB:{moneyFormat:r+" à¸¿",moneyWithCurrencyFormat:r+" à¸¿"},TJS:{moneyFormat:"TJS "+r,moneyWithCurrencyFormat:"TJS "+r+" TJS"},TOP:{moneyFormat:""+r,moneyWithCurrencyFormat:r+" TOP"},TRY:{moneyFormat:r+"TL",moneyWithCurrencyFormat:r+"TL"},TTD:{moneyFormat:""+r,moneyWithCurrencyFormat:r+" TTD"},TWD:{moneyFormat:""+r,moneyWithCurrencyFormat:r+" TWD"},TZS:{moneyFormat:r+" TZS",moneyWithCurrencyFormat:r+" TZS"},UAH:{moneyFormat:"â‚´"+r,moneyWithCurrencyFormat:"â‚´"+r+" UAH"},UGX:{moneyFormat:"Ush "+r,moneyWithCurrencyFormat:"Ush "+r+" UGX"},USD:{moneyFormat:""+r,moneyWithCurrencyFormat:r+" USD"},UYU:{moneyFormat:"$"+r,moneyWithCurrencyFormat:"$"+r+" UYU"},UZS:{moneyFormat:r+" som",moneyWithCurrencyFormat:r+" som"},VND:{moneyFormat:r+"â‚«",moneyWithCurrencyFormat:r+" VND"},VUV:{moneyFormat:""+r,moneyWithCurrencyFormat:r+"VT"},WST:{moneyFormat:"WS$ "+r,moneyWithCurrencyFormat:"WS$ "+r+" WST"},XAF:{moneyFormat:"FCFA"+r,moneyWithCurrencyFormat:"FCFA"+r+" XAF"},XCD:{moneyFormat:""+r,moneyWithCurrencyFormat:r+" XCD"},XOF:{moneyFormat:"CFA"+r,moneyWithCurrencyFormat:"CFA"+r+" XOF"},XPF:{moneyFormat:r+" XPF",moneyWithCurrencyFormat:r+" XPF"},YER:{moneyFormat:r+" YER",moneyWithCurrencyFormat:r+" YER"},ZAR:{moneyFormat:"R "+r,moneyWithCurrencyFormat:"R "+r+" ZAR"},ZMW:{moneyFormat:"K"+r,moneyWithCurrencyFormat:"K"+r+" ZMW"}}[document.querySelector("meta[property='og:price:currency']").getAttribute("content")].moneyFormat}main();__awaiter=this&&this.__awaiter||function(r,a,y,i){return new(y=y||Promise)(function(t,e){function o(r){try{m(i.next(r))}catch(r){e(r)}}function n(r){try{m(i.throw(r))}catch(r){e(r)}}function m(r){var e;r.done?t(r.value):((e=r.value)instanceof y?e:new y(function(r){r(e)})).then(o,n)}m((i=i.apply(r,a||[])).next())})},__generator=this&&this.__generator||function(t,o){var n,m,a,y={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function e(e){return function(r){return function(e){if(n)throw new TypeError("Generator is already executing.");for(;y;)try{if(n=1,m&&(a=2&e[0]?m.return:e[0]?m.throw||((a=m.return)&&a.call(m),0):m.next)&&!(a=a.call(m,e[1])).done)return a;switch(m=0,a&&(e=[2&e[0],a.value]),e[0]){case 0:case 1:a=e;break;case 4:return y.label++,{value:e[1],done:!1};case 5:y.label++,m=e[1],e=[0];continue;case 7:e=y.ops.pop(),y.trys.pop();continue;default:if(!(a=0<(a=y.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){y=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){y.label=e[1];break}if(6===e[0]&&y.label<a[1]){y.label=a[1],a=e;break}if(a&&y.label<a[2]){y.label=a[2],y.ops.push(e);break}a[2]&&y.ops.pop(),y.trys.pop();continue}e=o.call(t,y)}catch(r){e=[6,r],m=0}finally{n=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,r])}}};function getSettings(){return __awaiter(this,void 0,void 0,function(){var e,t;return __generator(this,function(r){switch(r.label){case 0:return e=document.getElementById("ProductJson-product-template"),e=e.firstChild.textContent,e=JSON.parse(e),e={product_id:e.id},[4,fetch(host+"/api/storefront/get",{method:"POST",credentials:"include",body:JSON.stringify(e)})];case 1:return 204===(t=r.sent()).status?[2,null]:[4,t.json()];case 2:return t=r.sent(),console.log("Settings Json: ",t),[2,t]}})})}__awaiter=this&&this.__awaiter||function(r,a,y,i){return new(y=y||Promise)(function(t,e){function o(r){try{m(i.next(r))}catch(r){e(r)}}function n(r){try{m(i.throw(r))}catch(r){e(r)}}function m(r){var e;r.done?t(r.value):((e=r.value)instanceof y?e:new y(function(r){r(e)})).then(o,n)}m((i=i.apply(r,a||[])).next())})},__generator=this&&this.__generator||function(t,o){var n,m,a,y={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function e(e){return function(r){return function(e){if(n)throw new TypeError("Generator is already executing.");for(;y;)try{if(n=1,m&&(a=2&e[0]?m.return:e[0]?m.throw||((a=m.return)&&a.call(m),0):m.next)&&!(a=a.call(m,e[1])).done)return a;switch(m=0,a&&(e=[2&e[0],a.value]),e[0]){case 0:case 1:a=e;break;case 4:return y.label++,{value:e[1],done:!1};case 5:y.label++,m=e[1],e=[0];continue;case 7:e=y.ops.pop(),y.trys.pop();continue;default:if(!(a=0<(a=y.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){y=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){y.label=e[1];break}if(6===e[0]&&y.label<a[1]){y.label=a[1],a=e;break}if(a&&y.label<a[2]){y.label=a[2],y.ops.push(e);break}a[2]&&y.ops.pop(),y.trys.pop();continue}e=o.call(t,y)}catch(r){e=[6,r],m=0}finally{n=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,r])}}};function registerClickthrough(t){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(r){switch(r.label){case 0:return e=document.getElementById("ProductJson-product-template"),e=e.firstChild.textContent,e=JSON.parse(e),e={product_id:e.id},[4,fetch(host+"/api/storefront/registerClickthrough",{method:"POST",credentials:"include",body:JSON.stringify({product_id:t.pid,set_pid:e.product_id})})];case 1:return r.sent(),window.location=t.handle,[2]}})})}function uiCreateProduct(r){var e=document.createElement("li");e.style.display="flex",e.style.flex="1 1 0px",e.style.flexDirection="column",e.style.minWidth="150px",e.style.boxSizing="border-box",e.style.cursor="pointer",e.style.margin="0px 4px 0px 4px",e.onclick=function(){registerClickthrough(r)};var t=document.createElement("img");t.src=r.img;var o=document.createElement("h4");o.style.margin="0px 2px 1px 2px",o.appendChild(document.createTextNode(r.title));var n=document.createElement("span");return n.style.margin="0px 2px 0px 2px",n.appendChild(document.createTextNode(displayPrice(r.price))),e.appendChild(t),e.appendChild(o),e.appendChild(n),e}function uiCreateProductFlex(){var r=document.createElement("ul");return r.style.display="flex",r.style.flexDirection="row",r.style.justifyContent="space-between",r.style.overflow="auto",r}function uiCreateDivider(){var r=document.createElement("div");return r.style.height="1px",r.style.margin="5px 0px 5px 0px",r.style.width="100%",r.style.backgroundColor="#AAAAAA",r}function uiMasterFlex(){var r=document.createElement("div");return r.style.display="flex",r.style.flexDirection="column",r}function uiMain(r){console.log("UI Main init");var e=uiMasterFlex();e.appendChild(uiCreateDivider());document.createElement("div");var t=document.createElement("h2");t.appendChild(document.createTextNode("Accessories for this Item")),t.style.margin="6px 2px 18px 2px",e.appendChild(t);var o=uiCreateProductFlex();return r.forEach(function(r){r=uiCreateProduct(r);o.appendChild(r)}),e.appendChild(o),e}